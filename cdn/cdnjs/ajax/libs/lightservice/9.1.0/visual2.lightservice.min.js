/**
 * lightservice - Simple and convinient interface for service consumption
 * @version v9.1.0
 * @link https://github.com/contactsamie/LightService
 * @license MIT
 * @license Samuel Bamgboye <contactsamie@gmail.com> 
 */
$(function(){var e=new joint.dia.Graph,t=new joint.dia.Paper({el:$("#paper"),width:8e3,height:6e3,gridSize:1,model:e,snapLinks:!0,linkPinning:!1,embeddingMode:!0,validateEmbedding:function(e,t){return t.model instanceof joint.shapes.devs.Coupled},validateConnection:function(e,t,i,n){return t!=n}}),i=function(t,i,n,o){var s=new joint.shapes.devs.Link({source:{id:t.id,selector:t.getPortSelector(i)},target:{id:n.id,selector:n.getPortSelector(o)}});s.addTo(e).reparent()},n=new joint.shapes.devs.Coupled({position:{x:230,y:150},size:{width:300,height:300},inPorts:["in"],outPorts:["out 1","out 2"]}),o=new joint.shapes.devs.Atomic({position:{x:360,y:360},inPorts:["xy"],outPorts:["x","y"]}),s=new joint.shapes.devs.Atomic({position:{x:50,y:260},outPorts:["out"]}),r=new joint.shapes.devs.Atomic({position:{x:650,y:150},size:{width:100,height:300},inPorts:["a","b"]});e.addCells([n,o,s,r]),n.embed(o),i(s,"out",n,"in"),i(n,"in",o,"xy"),i(o,"x",n,"out 1"),i(o,"y",n,"out 2"),i(n,"out 1",r,"a"),i(n,"out 2",r,"b"),_.each([n,o,s,r],function(e){e.attr({".body":{rx:6,ry:6}})});var d=V("circle",{r:14,stroke:"#ff7e5d","stroke-width":"6px",fill:"transparent","pointer-events":"none"});t.off("cell:highlight cell:unhighlight").on({"cell:highlight":function(e,i,n){if(n.embedding&&V(i).addClass("highlighted-parent"),n.connecting){var o=V(i).bbox(!1,t.viewport);d.translate(o.x+10,o.y+10,{absolute:!0}),V(t.viewport).append(d)}},"cell:unhighlight":function(e,t,i){i.embedding&&V(t).removeClass("highlighted-parent"),i.connecting&&d.remove()}})});